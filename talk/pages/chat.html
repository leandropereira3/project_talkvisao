<!DOCTYPE html>
<html ng-app="Talk">
<head>
<meta charset="UTF-8">
<link rel="shortcut icon" href="app_icon.ico" >
<link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="../css/custom.css">
<script src="../lib/jquery.js"></script>
<script src="../lib/bootstrap.js"></script>
<script src="../lib/notify.min.js"></script>
<script src="../js/chat.js"></script>

<title>Talk</title>
</head>
<body onload="init();">
	<nav class="navbar navbar-default navbar-static-top menu-back">
	  <div class="container">
	  		<span class="navbar-brand link-menu-color" >Talk</span>
			<div class="menu-align">			
			    <a class="navbar-brand link-menu-color" href="#/" data-toggle="modal" data-target="#modalAjuda">Ajuda</a>			    
			    <span class="navbar-brand link-menu-color" >||</span>
			    <a class="navbar-brand link-menu-color" onclick="closeSession();" href="/talk/index.html">Sair</a>	
	    	</div>	    
	  </div>
	</nav>
	<div class="container"  >
		<div class="row" style="margin-left: -70 !important;">
			<div class="col-md-2" style="border-right-width: 1px;border-right-style: groove;height: 530px;">
				<div style="height: 15%;">					
					<div class="form-group">						
						<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">
						  Novo contato
						</button>	
						<button type="button" class="btn btn-primary" title="Atualiza lista de contatos" onclick="setRefreshingContatosAceitos();">
						  Atualizar
						</button>			
					</div>	
				</div>
				<div id="divContatos" style="height: 40%;overflow: auto;border-top-width: 1px;border-top-style: groove;">
					<h4>Contatos</h4>
					<div id="divContatosAdicionados"></div>
				</div>				
								
			</div>

			<div class="col-md-10" style="height: 530px;">
				<div style="height: 5%; width: 99%;border-bottom-width: 1px;border-bottom-style: groove;">
					<div id="divNomeContatoSelecionado"><h4 id="lbNomeContatoSelecionado"></h4></div>
				</div>
				<div id="historicoConversaPai" style="height: 75%; overflow: auto;">
					<div id="historicoConversa"></div>
				</div>
				<div style="height: 20%; width: 99%">
					<div class="col-md-10">
						<textarea id="campoMsg" class="form-control" maxlength="100" rows="5"></textarea>	
					</div>
					<div class="col-md-2">
						<button type="button" class="btn btn-info" onclick="enviarMsg();">Enviar</button>
					</div>
				</div>
			</div>
		</div>			
	</div>	



	<!-- Modal Novo Contato -->
	<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	  <div class="modal-dialog" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
	        <h4 class="modal-title" id="myModalLabel">Adicionar novo contato</h4>
	      </div>
	      <div class="modal-body">
	        <div class="row">
		        <div class="col-md-10">
		        	<input type="text" class="form-control" id="campoPesquisaContato" name="campoPesquisaContato" placeholder="Digite parte do login ou apelido do contato para pesquisar" maxlength="100"/>           	
		        </div>
		        <div class="col-md-2">
		        	<button type="button" class="btn btn-info" onclick="pesquisarContatosPorApelidoOuLogin();">OK</button>
		        </div>
	      	</div>
	      	<div class="row">
	      		<div class="col-md-12">
	      			<div id="divPesquisaContatos">
			        	<table id="tabelaPesquisa" style="width: 98%">
			        		<thead>
			        			<th>Contato</th>
			        			<th></th>
			        		</thead>
			        		<tbody id="resultadoTabelaPesquisa">
			        			
			        		</tbody>
			        	</table>		
			        </div>	
		        </div>
	      	</div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>	        
	      </div>
	    </div>
	  </div>
	</div>
	</div>

	<!-- Modal Ajuda-->
	<div class="modal fade" id="modalAjuda" tabindex="-1" role="dialog" aria-labelledby="modalAjudaLabel">
	  <div class="modal-dialog" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
	        <h4 class="modal-title" id="myModalLabel">Ajuda</h4>
	      </div>
	      <div class="modal-body">
	        <div class="row">
		        <p></p>
				<p></p>
				<p>Existem 3 usuários inicialmente cadastrados("user1", "user2" e "user3") todos com a mesma senha ("123").</p>
				<p>Após fazer um novo cadastro de usuário, inicialmente ele não terá nenhum contato vinculado.</p>
				<p>Não existe a funcionalidade de convite ou bloqueio. Ao adicionar um contato em sua lista de contatos, seu usuário aparecerá na lista de contatos do usuário adicionado.</p>
				<p>Para enviar uma mensagem é preciso selecionar um contato.</p>
				<p>O histórico de conversas será mostrado automaticamente ao selecionar um contato.</p>
	      	</div>
	      	
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>	        
	      </div>
	    </div>
	  </div>
	</div>
	</div>	
</body>
</html>